"use strict";(self.webpackChunkstudents_projects=self.webpackChunkstudents_projects||[]).push([[484],{9692:(O,b,a)=>{a.d(b,{q:()=>h});var n=a(8256),e=a(858),v=a(5505),x=a(6895);let f=(()=>{class m{transform(c){return c.replace(/\s+/g,"")}}return m.\u0275fac=function(c){return new(c||m)},m.\u0275pipe=n.Yjl({name:"removeWhitespace",type:m,pure:!0}),m})();function t(m,d){if(1&m){const c=n.EpF();n.ynx(0),n.TgZ(1,"button",13),n.NdJ("click",function(){n.CHM(c);const M=n.oxw().$implicit,g=n.oxw(2);return n.KtG(g.removeCollaborator(M))}),n._UZ(2,"i",14),n.qZA(),n.BQk()}}function C(m,d){if(1&m&&(n.TgZ(0,"tr")(1,"td")(2,"div",5)(3,"div",6),n._UZ(4,"img",7),n.qZA(),n.TgZ(5,"div",8)(6,"h6",9),n._uU(7),n.qZA(),n.TgZ(8,"small",10),n._uU(9),n.ALo(10,"lowercase"),n.ALo(11,"removeWhitespace"),n.qZA()()()(),n.TgZ(12,"td",2)(13,"span",11),n._uU(14),n.qZA()(),n.TgZ(15,"td",2)(16,"div",12),n.YNc(17,t,3,0,"ng-container",3),n.qZA()()()),2&m){const c=d.$implicit,_=n.oxw(2);n.xp6(4),n.Q6J("src",_.collaborators[c].picture,n.LSH)("alt",_.collaborators[c].first_name),n.xp6(3),n.AsE("",_.collaborators[c].first_name," ",_.collaborators[c].last_name,""),n.xp6(2),n.hij("",n.lcZ(10,7,n.lcZ(11,9,_.collaborators[c].first_name)),"@ufps.edu.co"),n.xp6(5),n.Oqu(_.getRole(_.collaborators[c].id)),n.xp6(3),n.Q6J("ngIf","Owner"!==_.getRole(_.collaborators[c].id))}}function y(m,d){if(1&m&&(n.ynx(0),n.YNc(1,C,18,11,"tr",4),n.BQk()),2&m){const c=n.oxw();n.xp6(1),n.Q6J("ngForOf",c.list)}}let h=(()=>{class m{constructor(c,_){this.authService=c,this.collaboratorsService=_,this.id_user=this.authService.getCurrentUserSubject().id,this.collaborators={},this.list=[]}ngOnInit(){this.getContributors()}getContributors(){this.collaboratorsService.currentContributors.subscribe(c=>{this.collaborators=c,this.list=Object.keys(this.collaborators).map(Number)})}getContributorsLength(){return Object.keys(this.collaborators).length}removeCollaborator(c){console.log(c)}getRole(c){return this.collaborators[c].id!==this.id_user?"Collaborator":"Owner"}}return m.\u0275fac=function(c){return new(c||m)(n.Y36(e.e),n.Y36(v.t))},m.\u0275cmp=n.Xpm({type:m,selectors:[["app-collaborators"]],decls:12,vars:1,consts:[[1,"responsive"],[1,"table","table-striped","table-hover"],[1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"avatar"],[1,"avatar-img","rounded-circle",3,"src","alt"],[1,"ml-2"],[1,"mb-0"],[1,"text-muted"],[1,"badge","badge-pill","badge-light-primary"],[1,"form-button-action"],["type","button","data-toggle","tooltip","title","Eliminar","data-original-title","Eliminar",1,"btn","btn-link","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(c,_){1&c&&(n.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),n._uU(5,"Collaborator"),n.qZA(),n.TgZ(6,"th"),n._uU(7,"Role"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Actions"),n.qZA()()(),n.TgZ(10,"tbody"),n.YNc(11,y,2,1,"ng-container",3),n.qZA()()()),2&c&&(n.xp6(11),n.Q6J("ngIf",_.getContributorsLength()>0))},dependencies:[x.sg,x.O5,x.i8,f]}),m})()},1406:(O,b,a)=>{a.d(b,{r:()=>e});var n=a(8256);let e=(()=>{class v{constructor(){}ngOnInit(){}deleteProject(){console.log("delete project")}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-delete-project"]],decls:2,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(f,t){1&f&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return t.deleteProject()}),n._uU(1,"Eliminar"),n.qZA())}}),v})()},8576:(O,b,a)=>{a.d(b,{x:()=>y});var n=a(8256),e=a(9235),v=a(5347),x=a(2340),f=a(529);let t=(()=>{class h{constructor(d){this.http=d,this.url=`${x.N.baseUrlProjects}`}getBuildLogs(d){return this.http.get(`${this.url}/${v.S.logs_Project}/${d}/BUILD`)}getDeployLogs(d){return this.http.get(`${this.url}/${v.S.logs_Project}/${d}/CONT`)}}return h.\u0275fac=function(d){return new(d||h)(n.LFG(f.eN))},h.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var C=a(3643);let y=(()=>{class h{constructor(d,c){this.currentProjectService=d,this.logsService=c,this.logs=[]}ngOnInit(){this.getIdProjectValue()}getIdProjectValue(){this.currentProjectService.currentProjectValue.subscribe(d=>{this.idProject=d.id,this.idProject&&this.getLogs()})}getLogs(){"build"===this.logType?this.getBuildLogs(String(this.idProject)):"deploy"===this.logType&&this.getDeployLogs(String(this.idProject))}getBuildLogs(d){this.logsService.getBuildLogs(d).subscribe(c=>{this.logs=c})}getDeployLogs(d){this.logsService.getDeployLogs(d).subscribe(c=>{this.logs=c}),this.refreshLogs()}refreshLogs(){setInterval(()=>{this.getDeployLogs(String(this.idProject))},1e4)}}return h.\u0275fac=function(d){return new(d||h)(n.Y36(e.R),n.Y36(t))},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-logs"]],inputs:{logType:"logType"},decls:2,vars:3,consts:[[1,"monitor"],["theme","dark",3,"animated","icons","history"]],template:function(d,c){1&d&&(n.TgZ(0,"div",0),n._UZ(1,"log-monitor",1),n.qZA()),2&d&&(n.xp6(1),n.Q6J("animated",!0)("icons",!0)("history",c.logs))},dependencies:[C.u],styles:[".monitor[_ngcontent-%COMP%]{height:40em;width:100%}"]}),h})()},5583:(O,b,a)=>{a.d(b,{S:()=>x});var n=a(8256),e=a(9235),v=a(8795);let x=(()=>{class f{constructor(C,y){this.currentProjectService=C,this.projectService=y,this.maintenanceMode=!1,this.canToggleMaintenanceMode=!0}ngOnInit(){}toggleMaintenanceMode(){this.getMaintenanceMode()}getUserDto(){return{id_user:this.currentProjectService.currentProjectSubjectValue.id_user,id_project:this.currentProjectService.currentProjectSubjectValue.id}}getMaintenanceMode(){this.projectService.deployProject(this.getUserDto()).subscribe(C=>{this.maintenanceMode=!0,console.log(C)})}}return f.\u0275fac=function(C){return new(C||f)(n.Y36(e.R),n.Y36(v.m))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-maintenance-mode"]],decls:3,vars:2,consts:[[1,"switch"],["type","checkbox",3,"checked","disabled","change"],[1,"slider"]],template:function(C,y){1&C&&(n.TgZ(0,"label",0)(1,"input",1),n.NdJ("change",function(){return y.toggleMaintenanceMode()}),n.qZA(),n._UZ(2,"span",2),n.qZA()),2&C&&(n.xp6(1),n.Q6J("checked",y.maintenanceMode)("disabled",!y.canToggleMaintenanceMode))},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#aa1916}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #aa1916}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}']}),f})()},6502:(O,b,a)=>{a.d(b,{o:()=>e});var n=a(8256);let e=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-tags"]],decls:2,vars:0,template:function(f,t){1&f&&(n.TgZ(0,"p"),n._uU(1,"tags works!"),n.qZA())}}),v})()},801:(O,b,a)=>{a.d(b,{a:()=>M});var n=a(433),e=a(8256),v=a(5347),x=a(2340),f=a(529);let t=(()=>{class g{constructor(r){this.http=r,this.url=`${x.N.baseUrlProjects}`}getVars(r,l){return this.http.get(`${this.url}/${v.S.environment_List}/${r}/${l}`)}}return g.\u0275fac=function(r){return new(r||g)(e.LFG(f.eN))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var C=a(6895);function y(g,Z){if(1&g&&(e.TgZ(0,"div")(1,"small",20),e._uU(2),e.qZA()()),2&g){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function h(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,y,3,1,"div",8),e.BQk()),2&g){const r=Z.$implicit,l=e.oxw().index,p=e.oxw();e.xp6(1),e.Q6J("ngIf",p.f[l].get("key").hasError(r.type)&&p.isFieldValid("key",l))}}function m(g,Z){if(1&g&&(e.TgZ(0,"div")(1,"small",20),e._uU(2),e.qZA()()),2&g){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function d(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,m,3,1,"div",8),e.BQk()),2&g){const r=Z.$implicit,l=e.oxw().index,p=e.oxw();e.xp6(1),e.Q6J("ngIf",p.f[l].get("value").hasError(r.type)&&p.isFieldValid("value",l))}}function c(g,Z){if(1&g){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",0)(2,"div",9)(3,"div",10)(4,"label",11),e._uU(5,"Key:"),e.qZA(),e.ynx(6,12),e._UZ(7,"input",13),e.BQk(),e.YNc(8,h,2,1,"ng-container",7),e.qZA()(),e.TgZ(9,"div",9)(10,"div",10)(11,"label",11),e._uU(12,"Value:"),e.qZA(),e.ynx(13,12),e._UZ(14,"input",14),e.BQk(),e.YNc(15,d,2,1,"ng-container",7),e.qZA()(),e.TgZ(16,"div",9)(17,"div",15)(18,"label",11),e._uU(19,"Acciones"),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"button",16),e.NdJ("click",function(){const T=e.CHM(r).index,U=e.oxw();return e.KtG(U.editVar(T))}),e._UZ(22,"i",17),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){const T=e.CHM(r).index,U=e.oxw();return e.KtG(U.deleteVar(T))}),e._UZ(24,"i",19),e.qZA()()()(),e._UZ(25,"hr"),e.BQk()}if(2&g){const r=Z.index,l=e.oxw();e.xp6(4),e.MGl("for","key",r,""),e.xp6(2),e.Q6J("formGroupName",r),e.xp6(1),e.MGl("id","key",r,"")("name","key",r,""),e.xp6(1),e.Q6J("ngForOf",l.validationMessages.key),e.xp6(3),e.MGl("for","value",r,""),e.xp6(2),e.Q6J("formGroupName",r),e.xp6(1),e.MGl("id","value",r,"")("name","value",r,""),e.xp6(1),e.Q6J("ngForOf",l.validationMessages.value),e.xp6(3),e.MGl("for","value",r,"")}}function _(g,Z){if(1&g){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",0)(2,"div",21)(3,"div",15)(4,"button",3),e.NdJ("click",function(){e.CHM(r);const p=e.oxw();return e.KtG(p.saveVars())}),e._UZ(5,"i",22),e.TgZ(6,"span"),e._uU(7," Guardar"),e.qZA()()()()(),e.BQk()}if(2&g){const r=e.oxw();e.xp6(4),e.Q6J("disabled",r.varsForm.invalid)}}let M=(()=>{class g{constructor(r,l){this.fb=r,this.varsService=l,this.validationMessages={key:[{type:"required",message:"Key is required"}],value:[{type:"required",message:"Value is required"}]},this.varsForm=this.fb.group({vars:this.fb.array([])})}ngOnInit(){this.varsService.getVars(2,3).subscribe(r=>{r.forEach(l=>{this.vars.push(this.fb.group({key:new n.NI(l.name_var,n.kI.required),value:new n.NI(l.value_var,n.kI.required)}))})})}get vars(){return this.varsForm.get("vars")}get f(){return this.vars.controls}isFieldValid(r,l){return this.vars.controls[l].get(r).dirty||this.vars.controls[l].get(r).touched}addVar(){const r=this.fb.group({key:new n.NI("",n.kI.required),value:new n.NI("",n.kI.required)});this.vars.push(r)}editVar(r){const l=this.fb.group({key:new n.NI(this.vars.value[r].key,n.kI.required),value:new n.NI(this.vars.value[r].value,n.kI.required)});this.vars.setControl(r,l)}saveVars(){console.log(this.varsForm.value)}deleteVar(r){this.vars.removeAt(r)}}return g.\u0275fac=function(r){return new(r||g)(e.Y36(n.qu),e.Y36(t))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-vars"]],decls:10,vars:4,consts:[[1,"row"],[1,"col-md-12"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-plus"],["autocomplete","off",3,"formGroup"],["formArrayName","vars"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-md-4"],[1,"form-group"],[3,"for"],[3,"formGroupName"],["type","text","formControlName","key","placeholder","Key",1,"form-control",3,"id","name"],["type","text","formControlName","value","placeholder","Value",1,"form-control",3,"id","name"],[1,"form-group","text-center"],["type","button",1,"btn","btn-danger","btn-sm","mr-2",3,"click"],[1,"fas","fa-edit"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"text-danger"],[1,"col"],[1,"fa","fa-save"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return l.addVar()}),e._UZ(4,"i",4),e._uU(5," Nueva Variable "),e.qZA()()()(),e.TgZ(6,"form",5),e.ynx(7,6),e.YNc(8,c,26,11,"ng-container",7),e.BQk(),e.qZA(),e.YNc(9,_,8,1,"ng-container",8)),2&r&&(e.xp6(3),e.Q6J("disabled",l.varsForm.invalid),e.xp6(3),e.Q6J("formGroup",l.varsForm),e.xp6(2),e.Q6J("ngForOf",l.vars.controls),e.xp6(1),e.Q6J("ngIf",0!==l.vars.controls.length))},dependencies:[C.sg,C.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,n.x0,n.CE]}),g})()},8484:(O,b,a)=>{a.r(b),a.d(b,{ProjectsModule:()=>it});var n=a(6895),e=a(433),v=a(4466),x=a(3643),f=a(5675),t=a(8256),C=a(154),y=a(4004),h=a(8795);let m=(()=>{class o{constructor(i){this.projectsService=i}validate(i){return this.projectsService.projectValidateContext(i.value).pipe((0,y.U)(({exist:s})=>s?{exist:!0}:null))}}return o.\u0275fac=function(i){return new(i||o)(t.LFG(h.m))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=a(858),c=a(5347),_=a(2340),M=a(529);let g=(()=>{class o{constructor(i){this.http=i,this.url=`${_.N.baseUrlAcademic}`}getCoursesStudent(i){return this.http.get(`${this.url}/${c.S.courses_Student}/${i}`)}}return o.\u0275fac=function(i){return new(i||o)(t.LFG(M.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Z(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function r(o,u){if(1&o&&(t.ynx(0),t.YNc(1,Z,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.name?null:s.f.name.hasError(i.type))&&s.isFieldValid("name"))}}function l(o,u){if(1&o&&(t.TgZ(0,"option",54),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const i=u.$implicit;t.Q6J("value",i.id_subject_period.id),t.xp6(1),t.hij(" ",t.lcZ(2,2,i.id_subject_period.id_subject.name)," ")}}function p(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function T(o,u){if(1&o&&(t.ynx(0),t.YNc(1,p,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.subject_period?null:s.f.subject_period.hasError(i.type))&&s.isFieldValid("subject_period"))}}function U(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function N(o,u){if(1&o&&(t.ynx(0),t.YNc(1,U,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.context?null:s.f.context.hasError(i.type))&&s.isFieldValid("context"))}}function E(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function k(o,u){if(1&o&&(t.ynx(0),t.YNc(1,E,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.static_path?null:s.f.static_path.hasError(i.type))&&s.isFieldValid("static_path"))}}function w(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function q(o,u){if(1&o&&(t.ynx(0),t.YNc(1,w,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.port_container?null:s.f.port_container.hasError(i.type))&&s.isFieldValid("port_container"))}}function F(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function J(o,u){if(1&o&&(t.ynx(0),t.YNc(1,F,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.description?null:s.f.description.hasError(i.type))&&s.isFieldValid("description"))}}function Q(o,u){if(1&o&&(t.TgZ(0,"div")(1,"small",53),t._uU(2),t.qZA()()),2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.message)}}function D(o,u){if(1&o&&(t.ynx(0),t.YNc(1,Q,3,1,"div",52),t.BQk()),2&o){const i=u.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==s.f||null==s.f.url?null:s.f.url.hasError(i.type))&&s.isFieldValid("url"))}}let I=(()=>{class o{constructor(i,s,A,j,at,st,ct){this.fb=i,this.convertFileService=s,this.contexValidatorService=A,this.authService=j,this.courseStudentService=at,this.projectsService=st,this.router=ct,this.currentUser=this.authService.getCurrentUserSubject(),this.validationMessages={name:[{type:"required",message:"Nombre es requerido"},{type:"minlength",message:"Nombre debe tener al menos 5 caracteres"},{type:"maxlength",message:"Nombre no puede tener m\xe1s de 25 caracteres"},{type:"pattern",message:"Nombre debe contener solo letras"}],description:[{type:"required",message:"Descripci\xf3n es requerida"},{type:"minlength",message:"Descripci\xf3n debe tener al menos 5 caracteres"},{type:"maxlength",message:"Descripci\xf3n no puede tener m\xe1s de 1000 caracteres"}],image:[{type:"required",message:"Imagen es requerida"}],context:[{type:"required",message:"Contexto es requerido"},{type:"minlength",message:"Contexto debe tener al menos 5 caracteres"},{type:"maxlength",message:"Contexto no puede tener m\xe1s de 25 caracteres"},{type:"pattern",message:"Contexto debe contener letras, n\xfameros, acentos y espacios"},{type:"exist",message:"Contexto ya existe, busca otro \u{1f44e}"}],port_container:[{type:"required",message:"Puerto es requerido"},{type:"minlength",message:"Puerto debe tener al menos 2 caracteres"},{type:"maxlength",message:"Puerto no puede tener m\xe1s de 5 caracteres"},{type:"pattern",message:"Puerto debe contener solo n\xfameros"}],url:[{type:"required",message:"URL es requerido"},{type:"pattern",message:"URL debe ser un repositorio de GitHub o GitLab"}],static_path:[{type:"pattern",message:"Ruta est\xe1tica debe ser un directorio"}],subject_period:[{type:"required",message:"Materia es requerido"}]},this.imageURL="https://cdn-icons-png.flaticon.com/512/4173/4173337.png",this.coursesStudent=[],this.newProject=this.fb.group({id_user:new e.NI(this.currentUser.id),name:new e.NI("",e.kI.compose([e.kI.required,e.kI.minLength(5),e.kI.maxLength(25),e.kI.pattern("^[a-zA-Z ]*$")])),description:new e.NI("",e.kI.compose([e.kI.required,e.kI.minLength(5),e.kI.maxLength(1e3)])),image:new e.NI(null,e.kI.compose([e.kI.required])),context:new e.NI("",e.kI.compose([e.kI.required,e.kI.minLength(5),e.kI.maxLength(25),e.kI.pattern("^[a-zA-Z0-9-]*$")]),e.kI.composeAsync([this.contexValidatorService.validate.bind(this.contexValidatorService)])),port_container:new e.NI("",e.kI.compose([e.kI.required,e.kI.minLength(2),e.kI.maxLength(5),e.kI.pattern("^[0-9]*$")])),url:new e.NI("",e.kI.compose([e.kI.required,e.kI.pattern("^(https?://)?(www.)?((github.com)|(gitlab.com))/.+$")])),static_path:new e.NI("src/app",e.kI.compose([])),subject_period:new e.NI(null,e.kI.compose([e.kI.required]))})}ngOnInit(){this.getCoursesStudent()}getCoursesStudent(){const i=this.authService.getCurrentUserSubject().id;this.courseStudentService.getCoursesStudent(i).subscribe(s=>{this.coursesStudent=s})}get f(){return this.newProject.controls}formControlHasError(i,s){return this.newProject.controls[i].hasError(s)}isFieldValid(i){return this.newProject.controls[i].dirty||this.newProject.controls[i].touched}showPreview(i){const s=i.target,A=s.files[0];this.newProject.patchValue({image:A}),s.files&&A&&this.convertFileService.convertToBase64(A).then(j=>this.imageURL=j).catch(j=>console.log(j))}changeSubjectPeriod(i){this.newProject.patchValue({subject_period:i.target.value})}onBack(){this.router.navigate(["/projects"])}onSubmit(){if(!this.newProject.valid)return void this.newProject.markAllAsTouched();const i=this.convertFileService.convertToFormData(this.newProject.value);this.projectsService.createProject(i).subscribe(s=>{this.router.navigate(["/projects"])})}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(e.qu),t.Y36(C._),t.Y36(m),t.Y36(d.e),t.Y36(g),t.Y36(h.m),t.Y36(f.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-project-add"]],decls:95,vars:11,consts:[[1,"page-header"],[1,"page-title"],[1,"breadcrumbs"],[1,"nav-home"],["href","#"],[1,"flaticon-home"],[1,"separator"],[1,"flaticon-right-arrow"],[1,"nav-item"],[1,"row","mx-5"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row","align-items-center"],[1,"col-md-4"],[1,"form-group","input-file","input-file-image","text-center"],["width","500","height","300","alt","preview",1,"img-upload-preview",3,"src"],["type","file","id","image","name","image","accept","image/*",1,"form-control","form-control-file",3,"change"],["for","image",1,"label-input-file","btn","btn-default","btn-round"],[1,"btn-label"],[1,"fa","fa-file-image"],[1,"col-md-8"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],[4,"ngFor","ngForOf"],["for","subject_period"],["id","subject_period","formControlName","subject_period",1,"form-control",3,"change"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","context"],["type","text","id","context","formControlName","context",1,"form-control"],["for","static_path"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","static_path","formControlName","static_path",1,"form-control"],[1,"col-md-2"],["for","port_container"],["type","text","id","port_container","formControlName","port_container",1,"form-control"],["for","description"],["id","description","rows","5","formControlName","description",1,"form-control"],["for","url"],["type","text","id","url","formControlName","url",1,"form-control"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default",3,"click"],[4,"ngIf"],[1,"text-danger"],[3,"value"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Nuevo Projecto"),t.qZA(),t.TgZ(3,"ul",2)(4,"li",3)(5,"a",4),t._UZ(6,"i",5),t.qZA()(),t.TgZ(7,"li",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"li",8)(10,"a",4),t._uU(11,"Projectos"),t.qZA()(),t.TgZ(12,"li",6),t._UZ(13,"i",7),t.qZA(),t.TgZ(14,"li",8)(15,"a",4),t._uU(16,"Nuevo Projecto"),t.qZA()()()(),t.TgZ(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"div",13),t._uU(22,"Nuevo Projecto"),t.qZA()(),t.TgZ(23,"div",14)(24,"form",15),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(25,"div",16)(26,"div",17)(27,"div",18),t._UZ(28,"img",19),t.TgZ(29,"input",20),t.NdJ("change",function(j){return s.showPreview(j)}),t.qZA(),t.TgZ(30,"label",21)(31,"span",22),t._UZ(32,"i",23),t.qZA(),t._uU(33," Seleccionar Imagen "),t.qZA()()(),t.TgZ(34,"div",24)(35,"div",25)(36,"div",26)(37,"div",27)(38,"label",28),t._uU(39,"Nombre"),t.qZA(),t._UZ(40,"input",29),t.YNc(41,r,2,1,"ng-container",30),t.qZA()(),t.TgZ(42,"div",26)(43,"div",27)(44,"label",31),t._uU(45,"Materia"),t.qZA(),t.TgZ(46,"select",32),t.NdJ("change",function(j){return s.changeSubjectPeriod(j)}),t.TgZ(47,"option",33),t._uU(48,"Seleccione una Materia"),t.qZA(),t.YNc(49,l,3,4,"option",34),t.qZA(),t.YNc(50,T,2,1,"ng-container",30),t.qZA()()(),t.TgZ(51,"div",25)(52,"div",17)(53,"div",27)(54,"label",35),t._uU(55,"Contexto"),t.qZA(),t._UZ(56,"input",36),t.YNc(57,N,2,1,"ng-container",30),t.qZA()(),t.TgZ(58,"div",26)(59,"div",27)(60,"label",37),t._uU(61,"Ruta Est\xe1tica"),t.qZA(),t.TgZ(62,"div",38)(63,"div",39)(64,"span",40),t._uU(65,"src/app/static"),t.qZA()(),t._UZ(66,"input",41),t.qZA(),t.YNc(67,k,2,1,"ng-container",30),t.qZA()(),t.TgZ(68,"div",42)(69,"div",27)(70,"label",43),t._uU(71,"Puerto Container"),t.qZA(),t._UZ(72,"input",44),t.YNc(73,q,2,1,"ng-container",30),t.qZA()()(),t.TgZ(74,"div",25)(75,"div",10)(76,"div",27)(77,"label",45),t._uU(78,"Descripci\xf3n"),t.qZA(),t._UZ(79,"textarea",46),t.YNc(80,J,2,1,"ng-container",30),t.qZA(),t.TgZ(81,"div",27)(82,"label",47),t._uU(83,"URL Repositorio"),t.qZA(),t.TgZ(84,"div",38)(85,"div",39)(86,"span",40),t._uU(87,"https://github.com/username/project"),t.qZA()(),t._UZ(88,"input",48),t.qZA(),t.YNc(89,D,2,1,"ng-container",30),t.qZA()()()()(),t.TgZ(90,"div",49)(91,"button",50),t._uU(92,"Guardar"),t.qZA(),t.TgZ(93,"button",51),t.NdJ("click",function(){return s.onBack()}),t._uU(94,"Cancelar"),t.qZA()()()()()()()),2&i&&(t.xp6(24),t.Q6J("formGroup",s.newProject),t.xp6(4),t.Q6J("src",s.imageURL,t.LSH),t.xp6(13),t.Q6J("ngForOf",s.validationMessages.name),t.xp6(6),t.Q6J("value",null),t.xp6(2),t.Q6J("ngForOf",s.coursesStudent),t.xp6(1),t.Q6J("ngForOf",s.validationMessages.subject_period),t.xp6(7),t.Q6J("ngForOf",s.validationMessages.context),t.xp6(10),t.Q6J("ngForOf",s.validationMessages.static_path),t.xp6(6),t.Q6J("ngForOf",s.validationMessages.port_container),t.xp6(7),t.Q6J("ngForOf",s.validationMessages.description),t.xp6(9),t.Q6J("ngForOf",s.validationMessages.url))},dependencies:[n.sg,n.O5,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.JL,e.sg,e.u,n.rS],styles:["button[_ngcontent-%COMP%]{margin-right:10px}"]}),o})();var V=a(6642);function Y(o,u){if(1&o&&(t.TgZ(0,"div",14),t._UZ(1,"card-project",15),t.qZA()),2&o){const i=u.$implicit;t.xp6(1),t.Q6J("project",i)}}const B=function(){return["/dashboard"]},R=function(){return["/projects"]},$=function(){return["/projects/new"]};let L=(()=>{class o{constructor(i,s){this.authService=i,this.projectsService=s,this.projects=[]}ngOnInit(){this.loadProjects()}loadProjects(){const i=this.authService.getCurrentUserSubject().id;this.projectsService.getProjects(i).subscribe(s=>{this.projects=s})}deleteProject(i){this.projectsService.deleteProject(i).subscribe(s=>{console.log(s)})}trackByFn(i,s){return s.id}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(d.e),t.Y36(h.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-project-list"]],decls:23,vars:7,consts:[[1,"page-header"],[1,"page-title"],[1,"breadcrumbs"],[1,"nav-home"],[3,"routerLink"],[1,"flaticon-home"],[1,"separator"],[1,"flaticon-right-arrow"],[1,"nav-item"],[1,"ml-auto"],[1,"btn","btn-primary","ml-auto",3,"routerLink"],[1,"fa","fa-plus"],[1,"row","row-projects"],["class","col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-4","col-xxl-4"],[3,"project"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Lista Proyectos"),t.qZA(),t.TgZ(3,"ul",2)(4,"li",3)(5,"a",4),t._UZ(6,"i",5),t.qZA()(),t.TgZ(7,"li",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"li",8)(10,"a",4),t._uU(11,"Proyectos"),t.qZA()(),t.TgZ(12,"li",6),t._UZ(13,"i",7),t.qZA(),t.TgZ(14,"li",8)(15,"a"),t._uU(16,"Lista"),t.qZA()()(),t.TgZ(17,"div",9)(18,"a",10),t._UZ(19,"i",11),t._uU(20," Nuevo Proyecto "),t.qZA()()(),t.TgZ(21,"div",12),t.YNc(22,Y,2,1,"div",13),t.qZA()),2&i&&(t.xp6(5),t.Q6J("routerLink",t.DdM(4,B)),t.xp6(5),t.Q6J("routerLink",t.DdM(5,R)),t.xp6(8),t.Q6J("routerLink",t.DdM(6,$)),t.xp6(4),t.Q6J("ngForOf",s.projects))},dependencies:[n.sg,V.b,f.yS],styles:["a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:0 0 0 10px}"]}),o})();var G=a(8459),S=a(9753),P=a(4488);const K=[{path:"",component:G.p,children:[{path:"",component:L,pathMatch:"full",title:"Lista de Proyectos",canActivate:[S.pb],data:{roles:[P.H.ADMIN,P.H.SUPPORT,P.H.TEACHER,P.H.STUDENT]}},{path:"new",component:I,title:"Nuevo Proyecto",canActivate:[S.pb],data:{roles:[P.H.ADMIN,P.H.SUPPORT,P.H.TEACHER,P.H.STUDENT]}},{path:":id/:context",loadChildren:()=>a.e(942).then(a.bind(a,6942)).then(o=>o.DetailModule),canActivate:[S.pb],data:{roles:[P.H.ADMIN,P.H.SUPPORT,P.H.TEACHER,P.H.STUDENT]}}]}];let H=(()=>{class o{}return o.components=[L,I],o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(K),f.Bz]}),o})();a(801),a(8576),a(6502),a(9692),a(5583),a(1406);const rt=[n.ez,e.UX,v.m,H,x.K];let it=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[rt]}),o})()},9235:(O,b,a)=>{a.d(b,{R:()=>h});var n=a(1135),e=a(8505),v=a(4004),x=a(5347),f=a(2340),t=a(8256),C=a(529),y=a(5505);let h=(()=>{class m{constructor(c,_){this.http=c,this.collaboratorsService=_,this.currentProjectSubject=new n.X({}),this.currentProject=this.currentProjectSubject.asObservable(),this.url=`${f.N.baseUrlProjects}`}setCurrentProject(c){this.currentProjectSubject.next(c)}getCurrentProject(c){return this.http.get(`${this.url}/${x.S.project_Get}/${c}`).pipe((0,e.b)(_=>{const M=[..._.collaborators,_.id_user];this.setCurrentProject(_),this.collaboratorsService.setContributors(M).subscribe()}),(0,v.U)(_=>_))}get currentProjectSubjectValue(){return this.currentProjectSubject.getValue()}get currentProjectValue(){return this.currentProject}}return m.\u0275fac=function(c){return new(c||m)(t.LFG(C.eN),t.LFG(y.t))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},3643:(O,b,a)=>{a.d(b,{K:()=>g,u:()=>M});var n=a(6895),e=a(8256);const v=["container"];function x(r,l){if(1&r&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&r){const p=e.oxw();e.Q6J("ngClass",p.theme+"-theme"),e.xp6(1),e.hij("\u232a ",p.title,"")}}function f(r,l){1&r&&(e.ynx(0),e._uU(1,"\u2718"),e.BQk())}function t(r,l){1&r&&(e.ynx(0),e._uU(1,"\u2714"),e.BQk())}function C(r,l){1&r&&(e.ynx(0),e._uU(1,"\u2771"),e.BQk())}function y(r,l){1&r&&(e.ynx(0),e._uU(1,"\u203c"),e.BQk())}function h(r,l){1&r&&(e.ynx(0),e._uU(1,"\u2139"),e.BQk())}function m(r,l){if(1&r&&(e.TgZ(0,"span",7),e.YNc(1,f,2,0,"ng-container",8),e.YNc(2,t,2,0,"ng-container",8),e.YNc(3,C,2,0,"ng-container",8),e.YNc(4,y,2,0,"ng-container",8),e.YNc(5,h,2,0,"ng-container",8),e.qZA()),2&r){const p=e.oxw().$implicit;e.Q6J("ngSwitch",p.type),e.xp6(1),e.Q6J("ngSwitchCase","ERR"),e.xp6(1),e.Q6J("ngSwitchCase","SUCCESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOG"),e.xp6(1),e.Q6J("ngSwitchCase","WARN"),e.xp6(1),e.Q6J("ngSwitchCase","INFO")}}const d=function(r){return{animated:r}};function c(r,l){if(1&r&&(e.TgZ(0,"span",5),e.YNc(1,m,6,6,"span",6),e._uU(2),e.qZA()),2&r){const p=l.$implicit,T=e.oxw();e.Gre("msg-item ","msg-"+p.type.toLowerCase(),""),e.Q6J("ngClass",e.VKq(7,d,T.animated)),e.xp6(1),e.Q6J("ngIf",T.icons),e.xp6(1),e.AsE(" [",p.timestamp,"]: ",p.message," ")}}const _=r=>Object.assign({},r,{type:r.type?r.type:"LOG",timestamp:r.timestamp?r.timestamp:(new Date).toLocaleString()});let M=(()=>{class r{constructor(p){this.zone=p,this.history=[],this.theme="dark",this.icons=!0,this.customClass="log-container",this.animated=!0}ngOnChanges(p){p.history&&(this.history=p.history.currentValue.map(_)),p.logStream&&p.logStream.currentValue&&this.zone.run(()=>{const T=_(p.logStream.currentValue);this.history.push(T),setTimeout(()=>this.scrollToBottom())})}ngAfterViewInit(){this.scrollToBottom()}scrollToBottom(){this.container.nativeElement.scrollTop=this.container.nativeElement.scrollHeight}}return r.\u0275fac=function(p){return new(p||r)(e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["log-monitor"]],viewQuery:function(p,T){if(1&p&&e.Gf(v,5),2&p){let U;e.iGM(U=e.CRH())&&(T.container=U.first)}},inputs:{history:"history",theme:"theme",icons:"icons",customClass:"customClass",animated:"animated",title:"title",logStream:"logStream"},features:[e.TTD],decls:4,vars:3,consts:[["class","title-bar",3,"ngClass",4,"ngIf"],[1,"container",3,"ngClass"],["container",""],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"title-bar",3,"ngClass"],[3,"ngClass"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(p,T){1&p&&(e.YNc(0,x,2,2,"div",0),e.TgZ(1,"div",1,2),e.YNc(3,c,3,9,"span",3),e.qZA()),2&p&&(e.Q6J("ngIf",T.title),e.xp6(1),e.Q6J("ngClass",T.theme+"-theme"),e.xp6(2),e.Q6J("ngForOf",T.history))},dependencies:[n.mk,n.sg,n.O5,n.RF,n.n9],styles:['.container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding-top:5px;padding-bottom:5px;overflow-y:auto;font-family:"Lucida Console",Monaco,monospace,sans-serif}.animated[_ngcontent-%COMP%]{-webkit-animation:260ms fadein;animation:260ms fadein}@-webkit-keyframes fadein{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadein{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.title-bar[_ngcontent-%COMP%]{padding:5px;font-weight:600}.dark-theme.title-bar[_ngcontent-%COMP%]{border-bottom:1px solid #3c3c3c;background:#1f1f1f}.light-theme.title-bar[_ngcontent-%COMP%]{border-bottom:1px solid #a8acad;background:#dbdfe0}.msg-item[_ngcontent-%COMP%]{display:block;margin-left:6px;font-size:.85em}.msg-list[_ngcontent-%COMP%]{margin:0;height:100%}.light-theme[_ngcontent-%COMP%]{color:#212121;background:#ecf0f1}.light-theme[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{color:#2980b9}.light-theme[_ngcontent-%COMP%]   .msg-err[_ngcontent-%COMP%]{color:#c0392b}.light-theme[_ngcontent-%COMP%]   .msg-success[_ngcontent-%COMP%]{color:#27ae60}.light-theme[_ngcontent-%COMP%]   .msg-warn[_ngcontent-%COMP%]{color:#f39c12}.dark-theme[_ngcontent-%COMP%]{color:#ecf0f1;background:#212121}.dark-theme[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{color:#3498db}.dark-theme[_ngcontent-%COMP%]   .msg-err[_ngcontent-%COMP%]{color:#e74c3c}.dark-theme[_ngcontent-%COMP%]   .msg-success[_ngcontent-%COMP%]{color:#2ecc71}.dark-theme[_ngcontent-%COMP%]   .msg-warn[_ngcontent-%COMP%]{color:#f1c40f}'],changeDetection:0}),r})(),g=(()=>{class r{}return r.\u0275fac=function(p){return new(p||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[n.ez]}),r})()}}]);