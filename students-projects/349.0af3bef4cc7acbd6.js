"use strict";(self.webpackChunkstudents_projects=self.webpackChunkstudents_projects||[]).push([[349],{5349:(F,p,r)=>{r.r(p),r.d(p,{ProjectsModule:()=>D});var s=r(6895),t=r(8256);const C=["container"];function y(e,n){if(1&e&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.Q6J("ngClass",o.theme+"-theme"),t.xp6(1),t.hij("\u232a ",o.title,"")}}function v(e,n){1&e&&(t.ynx(0),t._uU(1,"\u2718"),t.BQk())}function M(e,n){1&e&&(t.ynx(0),t._uU(1,"\u2714"),t.BQk())}function Z(e,n){1&e&&(t.ynx(0),t._uU(1,"\u2771"),t.BQk())}function L(e,n){1&e&&(t.ynx(0),t._uU(1,"\u203c"),t.BQk())}function j(e,n){1&e&&(t.ynx(0),t._uU(1,"\u2139"),t.BQk())}function b(e,n){if(1&e&&(t.TgZ(0,"span",7),t.YNc(1,v,2,0,"ng-container",8),t.YNc(2,M,2,0,"ng-container",8),t.YNc(3,Z,2,0,"ng-container",8),t.YNc(4,L,2,0,"ng-container",8),t.YNc(5,j,2,0,"ng-container",8),t.qZA()),2&e){const o=t.oxw().$implicit;t.Q6J("ngSwitch",o.type),t.xp6(1),t.Q6J("ngSwitchCase","ERR"),t.xp6(1),t.Q6J("ngSwitchCase","SUCCESS"),t.xp6(1),t.Q6J("ngSwitchCase","LOG"),t.xp6(1),t.Q6J("ngSwitchCase","WARN"),t.xp6(1),t.Q6J("ngSwitchCase","INFO")}}const P=function(e){return{animated:e}};function T(e,n){if(1&e&&(t.TgZ(0,"span",5),t.YNc(1,b,6,6,"span",6),t._uU(2),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.Gre("msg-item ","msg-"+o.type.toLowerCase(),""),t.Q6J("ngClass",t.VKq(7,P,i.animated)),t.xp6(1),t.Q6J("ngIf",i.icons),t.xp6(1),t.AsE(" [",o.timestamp,"]: ",o.message," ")}}const g=e=>Object.assign({},e,{type:e.type?e.type:"LOG",timestamp:e.timestamp?e.timestamp:(new Date).toLocaleString()});let x=(()=>{class e{constructor(o){this.zone=o,this.history=[],this.theme="dark",this.icons=!0,this.customClass="log-container",this.animated=!0}ngOnChanges(o){o.history&&(this.history=o.history.currentValue.map(g)),o.logStream&&o.logStream.currentValue&&this.zone.run(()=>{const i=g(o.logStream.currentValue);this.history.push(i),setTimeout(()=>this.scrollToBottom())})}ngAfterViewInit(){this.scrollToBottom()}scrollToBottom(){this.container.nativeElement.scrollTop=this.container.nativeElement.scrollHeight}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.R0b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["log-monitor"]],viewQuery:function(o,i){if(1&o&&t.Gf(C,5),2&o){let c;t.iGM(c=t.CRH())&&(i.container=c.first)}},inputs:{history:"history",theme:"theme",icons:"icons",customClass:"customClass",animated:"animated",title:"title",logStream:"logStream"},features:[t.TTD],decls:4,vars:3,consts:[["class","title-bar",3,"ngClass",4,"ngIf"],[1,"container",3,"ngClass"],["container",""],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"title-bar",3,"ngClass"],[3,"ngClass"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(o,i){1&o&&(t.YNc(0,y,2,2,"div",0),t.TgZ(1,"div",1,2),t.YNc(3,T,3,9,"span",3),t.qZA()),2&o&&(t.Q6J("ngIf",i.title),t.xp6(1),t.Q6J("ngClass",i.theme+"-theme"),t.xp6(2),t.Q6J("ngForOf",i.history))},dependencies:[s.mk,s.sg,s.O5,s.RF,s.n9],styles:['.container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding-top:5px;padding-bottom:5px;overflow-y:auto;font-family:"Lucida Console",Monaco,monospace,sans-serif}.animated[_ngcontent-%COMP%]{-webkit-animation:260ms fadein;animation:260ms fadein}@-webkit-keyframes fadein{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadein{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.title-bar[_ngcontent-%COMP%]{padding:5px;font-weight:600}.dark-theme.title-bar[_ngcontent-%COMP%]{border-bottom:1px solid #3c3c3c;background:#1f1f1f}.light-theme.title-bar[_ngcontent-%COMP%]{border-bottom:1px solid #a8acad;background:#dbdfe0}.msg-item[_ngcontent-%COMP%]{display:block;margin-left:6px;font-size:.85em}.msg-list[_ngcontent-%COMP%]{margin:0;height:100%}.light-theme[_ngcontent-%COMP%]{color:#212121;background:#ecf0f1}.light-theme[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{color:#2980b9}.light-theme[_ngcontent-%COMP%]   .msg-err[_ngcontent-%COMP%]{color:#c0392b}.light-theme[_ngcontent-%COMP%]   .msg-success[_ngcontent-%COMP%]{color:#27ae60}.light-theme[_ngcontent-%COMP%]   .msg-warn[_ngcontent-%COMP%]{color:#f39c12}.dark-theme[_ngcontent-%COMP%]{color:#ecf0f1;background:#212121}.dark-theme[_ngcontent-%COMP%]   .msg-info[_ngcontent-%COMP%]{color:#3498db}.dark-theme[_ngcontent-%COMP%]   .msg-err[_ngcontent-%COMP%]{color:#e74c3c}.dark-theme[_ngcontent-%COMP%]   .msg-success[_ngcontent-%COMP%]{color:#2ecc71}.dark-theme[_ngcontent-%COMP%]   .msg-warn[_ngcontent-%COMP%]{color:#f1c40f}'],changeDetection:0}),e})(),A=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez]}),e})();var a=r(2767);let u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add"]],decls:2,vars:0,template:function(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1,"add works!"),t.qZA())}}),e})(),l=(()=>{class e{}return e.oauthLogin="oauth/token",e.userRegister="api/user/register",e.projectList="list_project",e.projectCreate="create_project",e.projectDeploy="deploy_project",e.projectDelete="delete_project",e.environmentList="list_env",e.environmentCreate="create_env",e.logsProject="log_project",e})();var m=r(2340),d=r(529);let O=(()=>{class e{constructor(o){this.http=o,this.url=`${m.N.baseUrl}`}getBuildLogs(o){return this.http.get(`${this.url}/${l.logsProject}/${o}/BUILD`)}getDeployLogs(o){return this.http.get(`${this.url}/${l.logsProject}/${o}/CONT`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e{constructor(o,i,c){this.logsService=o,this.route=i,this.router=c,this.build=[],this.deploy=[]}ngOnInit(){this.projectId=this.route.snapshot.params.id,this.getBuildLogs(this.projectId),this.getDeployLogs(this.projectId)}getBuildLogs(o){this.logsService.getBuildLogs(o).subscribe(i=>{this.build=i,console.log(i)})}getDeployLogs(o){this.logsService.getDeployLogs(o).subscribe(i=>{this.deploy=i.map(({message:c})=>({message:c.split("]")[1].trim(),timestamp:c.split("[")[1].split("]")[0]}))}),this.refreshDeployLogs()}refreshDeployLogs(){setTimeout(()=>{this.getDeployLogs("16")},6e4)}onBack(){this.router.navigate(["/projects"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(O),t.Y36(a.gz),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-details"]],decls:33,vars:6,consts:[[1,"page-header"],[1,"page-title"],[1,"breadcrumbs"],[1,"nav-home"],["href","#"],[1,"flaticon-home"],[1,"separator"],[1,"flaticon-right-arrow"],[1,"nav-item"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"monitor"],["theme","dark",3,"animated","icons","history"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Deployments"),t.qZA(),t.TgZ(3,"ul",2)(4,"li",3)(5,"a",4),t._UZ(6,"i",5),t.qZA()(),t.TgZ(7,"li",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"li",8)(10,"a",4),t._uU(11,"Logs"),t.qZA()()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),t._uU(17,"Build Logs"),t.qZA(),t.TgZ(18,"p",14),t._uU(19,"magic-app"),t.qZA()(),t.TgZ(20,"div",15)(21,"div",16),t._UZ(22,"log-monitor",17),t.qZA()()()(),t.TgZ(23,"div",10)(24,"div",11)(25,"div",12)(26,"h4",13),t._uU(27,"Deploy Logs"),t.qZA(),t.TgZ(28,"p",14),t._uU(29,"magic-app"),t.qZA()(),t.TgZ(30,"div",15)(31,"div",16),t._UZ(32,"log-monitor",17),t.qZA()()()()()),2&o&&(t.xp6(22),t.Q6J("animated",!0)("icons",!0)("history",i.build),t.xp6(10),t.Q6J("animated",!0)("icons",!0)("history",i.deploy))},dependencies:[x],styles:[".monitor[_ngcontent-%COMP%]{height:40em;width:100%}"]}),e})(),w=(()=>{class e{constructor(o){this.http=o,this.url=`${m.N.baseUrl}`}getProjects(o){return this.http.get(`${this.url}/${l.projectList}/${o}`)}deleteProject(o){return this.http.delete(`${this.url}/${l.projectDelete}`,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const f=function(e){return["/projects",e]};function U(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",19),t._uU(9,"View"),t.qZA(),t.TgZ(10,"a",20),t._uU(11,"Details"),t.qZA(),t.TgZ(12,"button",21),t.NdJ("click",function(){const Q=t.CHM(o).$implicit,J=t.oxw();return t.KtG(J.deleteProject(Q.id))}),t._uU(13,"Delete"),t.qZA()()()}if(2&e){const o=n.$implicit;t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.context),t.xp6(2),t.Oqu(o.port_container),t.xp6(2),t.Q6J("routerLink",t.VKq(5,f,o.id)),t.xp6(2),t.Q6J("routerLink",t.VKq(7,f,o.id))}}let _=(()=>{class e{constructor(o){this.projectService=o,this.projects=[]}ngOnInit(){this.loadProjects()}loadProjects(){this.projectService.getProjects("1").subscribe(o=>{this.projects=o})}deleteProject(o){this.projectService.deleteProject(o).subscribe(i=>{console.log(i)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:35,vars:1,consts:[[1,"page-header"],[1,"page-title"],[1,"breadcrumbs"],[1,"nav-home"],["href","#"],[1,"flaticon-home"],[1,"separator"],[1,"flaticon-right-arrow"],[1,"nav-item"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","basic-datatables",1,"display","table","table-striped","table-hover","text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Projects"),t.qZA(),t.TgZ(3,"ul",2)(4,"li",3)(5,"a",4),t._UZ(6,"i",5),t.qZA()(),t.TgZ(7,"li",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"li",8)(10,"a",4),t._uU(11,"Projects"),t.qZA()()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),t._uU(17,"List of Projects"),t.qZA(),t.TgZ(18,"p",14),t._uU(19,"Here is a subtitle for this table"),t.qZA()(),t.TgZ(20,"div",15)(21,"div",16)(22,"table",17)(23,"thead")(24,"tr")(25,"th"),t._uU(26,"ID Project"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Project Context"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Port"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Actions"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,U,14,9,"tr",18),t.qZA()()()()()()()),2&o&&(t.xp6(34),t.Q6J("ngForOf",i.projects))},dependencies:[s.sg,a.yS],styles:["a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:0 0 0 10px}"]}),e})();const k=[{path:"",component:r(3658).p,children:[{path:"",component:_,pathMatch:"full",title:"List Projects"},{path:"new",component:u,title:"New Project"},{path:":id",component:h,title:"Project Details"}]}];let q=(()=>{class e{}return e.components=[_,h,u],e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(k),a.Bz]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,q,A]}),e})()}}]);